# Документ требований к продукту (PRD): CityStep

## Обзор продукта
CityStep - веб-приложение для туристов, которое автоматически составляет оптимальные маршруты по интересным и красивым местам города. Приложение решает проблему сложности и длительности ручного планирования туристических маршрутов.

**Тип продукта:** Веб-приложение, оптимизированное для работы как на десктопных, так и на мобильных устройствах через браузер.

## Целевая аудитория
Основная целевая аудитория приложения - туристы всех возрастных категорий, которые:
- Приезжают в незнакомый город и хотят эффективно спланировать свое время
- Предпочитают самостоятельные путешествия без гидов
- Ценят оптимизацию маршрутов для экономии времени и сил
- Интересуются достопримечательностями и уникальными местами города
- Хотят включить в свой маршрут места для отдыха (кафе, рестораны)

## Проблема и решение
### Проблема
Туристы, приезжающие в новый город, сталкиваются с трудностями при планировании маршрутов:
- Требуется много времени на исследование достопримечательностей
- Сложно оптимизировать маршрут с учетом расстояний и времени
- Трудно найти и включить в маршрут места для отдыха (кафе, рестораны)

### Решение
CityStep предлагает:
- Автоматическое составление оптимальных маршрутов
- Возможность указать начальную и конечную точки маршрута
- Учет временных ограничений пользователя
- Включение мест для отдыха (кофейни, рестораны) в маршрут

## Ключевые функции
1. Создание маршрута с указанием начальной и конечной точки
2. Настройка временных параметров маршрута
3. Добавление мест для остановок (кофейни, рестораны и т.д.)
4. Пошаговая навигация по маршруту (как в навигаторе)
5. Интеграция с OpenStreetMap для отображения карт
6. Сохранение созданных маршрутов для повторного использования
7. Оптимизация маршрута с учетом расстояний и времени посещения

## Пользовательские сценарии

### Сценарий 1: Однодневный турист
**Пользователь:** Иван, 30 лет, приехал в город на один день и хочет увидеть максимум достопримечательностей.

**Сценарий:**
1. Иван открывает приложение CityStep
2. Указывает свое текущее местоположение (гостиница) как начальную точку
3. Указывает вокзал как конечную точку (так как ему нужно успеть на поезд)
4. Задает временные ограничения: 10:00 - 18:00
5. Добавляет предпочтение остановиться на обед в кафе около 13:00
6. Приложение генерирует оптимальный маршрут, включающий максимальное количество достопримечательностей и обед в кафе
7. Иван начинает следовать по маршруту, используя пошаговую навигацию
8. По завершении маршрута сохраняет его для будущих поездок

### Сценарий 2: Спонтанная прогулка
**Пользователь:** Анна, 25 лет, гуляет по городу и хочет найти интересные места в округе.

**Сценарий:**
1. Анна открывает приложение CityStep
2. Использует текущее местоположение как начальную точку
3. Указывает, что у нее есть 2 часа свободного времени
4. Выбирает опцию "кольцевой маршрут" (вернуться к начальной точке)
5. Добавляет предпочтение посетить кофейню в конце маршрута
6. Приложение генерирует маршрут по ближайшим достопримечательностям с завершением в кофейне
7. Анна следует по маршруту, используя пошаговую навигацию

## Технические требования

### Технологический стек

#### Фронтенд
- **Фреймворк:** Next.js (TypeScript)
- **Стилизация:** Tailwind CSS
- **Компоненты:** shadcn/ui
- **Карты:** Интеграция с OpenStreetMap API

#### Бэкенд
- **База данных:** Supabase (PostgreSQL)
- **Аутентификация:** NextAuth.js

#### Развертывание
- **Хостинг:** Vercel

### Функциональные требования

1. **Работа с картами**
   - Отображение интерактивной карты с маркерами достопримечательностей
   - Построение маршрутов на карте
   - Отображение текущего местоположения пользователя

2. **Управление маршрутами**
   - Создание маршрутов с указанием начальной и конечной точек
   - Добавление промежуточных точек и мест остановок
   - Сохранение и загрузка созданных маршрутов

3. **Навигация**
   - Пошаговые инструкции по маршруту
   - Отображение расстояния и времени до следующей точки
   - Оповещения о прибытии в ключевые точки маршрута

4. **База данных достопримечательностей**
   - Хранение информации о достопримечательностях (название, описание, координаты, фото)
   - Хранение информации о местах отдыха (кафе, рестораны)
   - Возможность категоризации мест (исторические, культурные, природные и т.д.)

5. **Производительность и веб-специфичные требования**
   - Быстрая загрузка карт и маршрутов
   - Оптимизация для различных браузеров и устройств
   - Работа в офлайн-режиме с использованием веб-хранилища
   - Прогрессивное веб-приложение (PWA) для установки на домашний экран

## Дизайн и пользовательский интерфейс

### Основные принципы дизайна
- Минималистичный и интуитивно понятный интерфейс
- Адаптивный дизайн для различных устройств (десктоп и мобильные)
- Фокус на карте как основном элементе интерфейса
- Удобные элементы управления для сенсорных экранов
- Веб-ориентированный дизайн с учетом современных стандартов

### Основные экраны
1. **Главный экран**
   - Карта с текущим местоположением
   - Кнопка создания нового маршрута
   - Список сохраненных маршрутов

2. **Экран создания маршрута**
   - Выбор начальной и конечной точек
   - Настройка временных параметров
   - Добавление предпочтений (остановки в кафе и т.д.)

3. **Экран маршрута**
   - Карта с проложенным маршрутом
   - Список точек маршрута
   - Информация о времени и расстоянии

4. **Экран навигации**
   - Пошаговые инструкции
   - Карта с текущим сегментом маршрута
   - Информация о следующей точке маршрута

## План разработки

### Фаза 1: MVP (Минимально жизнеспособный продукт)
- Разработка основного интерфейса с картой
- Реализация базового функционала создания маршрутов
- Интеграция с OpenStreetMap
- Создание базы данных достопримечательностей

### Фаза 2: Расширение функционала
- Добавление пошаговой навигации
- Реализация сохранения маршрутов
- Добавление мест отдыха (кафе, рестораны) в маршруты
- Улучшение алгоритма оптимизации маршрутов

### Фаза 3: Улучшения и оптимизация
- Добавление офлайн-режима
- Оптимизация производительности
- Улучшение пользовательского интерфейса на основе обратной связи

## Метрики успеха

### Пользовательские метрики
- Количество активных пользователей в месяц
- Среднее время, проведенное в приложении
- Количество созданных маршрутов

### Технические метрики
- Время загрузки приложения
- Время генерации маршрута
- Точность навигации

### Качественные метрики
- Оценки пользователей
- Отзывы о качестве маршрутов
- Частота возврата пользователей
